**1**:
Сначала необходимо рассчитать количество заказов для каждого анализа с разбивкой по годам. Это можно сделать с помощью агрегатной функции COUNT и группировки по годам и анализам. Вынесите эту часть кода в подзапрос или CTE.


**2**
На следующем шаге необходимо проранжировать полученное количество заказов. Для этого воспользуйтесь оконной функцией RANK и окном с разбивкой по годам и сортировкой по убыванию количества. Эту часть запроса также вынесите в подзапрос или CTE.

**3**
На последнем шаге выберите только те строки, у которых ранг равен 1.